# Wake Saiteku .env example for sherpa-ONNX and Chat API

# ---- Chat API (OpenAI-compatible) ----
# Enable streaming Chat API over server-provided transcript.
# Default disabled; set to true and fill BASE_URL/KEY to use your API (text-only, not audio).
PREFER_CHAT_API=false
#CHAT_API_BASE_URL=http://100.86.115.54:8010/v1
#CHAT_API_KEY=your_api_key
#CHAT_API_MODEL=gpt-4o-mini

# ---- Wake backend selection ----
# auto | sherpa | vosk
WAKE_BACKEND=auto

# ---- Wake with sherpa-ONNX (choose ONE model family and fill paths) ----
# Common
WAKE_SHERPA_NUM_THREADS=2
WAKE_SHERPA_PROVIDER=cpu

# Paraformer example
#WAKE_SHERPA_MODEL_TYPE=paraformer
#WAKE_SHERPA_MODEL=/opt/models/sherpa/jp/paraformer/model.onnx
#WAKE_SHERPA_TOKENS=/opt/models/sherpa/jp/paraformer/tokens.txt

# Whisper example (tiny/base multilingual etc.)
#WAKE_SHERPA_MODEL_TYPE=whisper
#WAKE_SHERPA_ENCODER=/opt/models/sherpa/whisper-tiny/encoder.onnx
#WAKE_SHERPA_DECODER=/opt/models/sherpa/whisper-tiny/decoder.onnx
#WAKE_SHERPA_TOKENS=/opt/models/sherpa/whisper-tiny/tokens.txt

# Transducer example
#WAKE_SHERPA_MODEL_TYPE=transducer
#WAKE_SHERPA_ENCODER=/opt/models/sherpa/jp/transducer/encoder.onnx
#WAKE_SHERPA_DECODER=/opt/models/sherpa/jp/transducer/decoder.onnx
#WAKE_SHERPA_JOINER=/opt/models/sherpa/jp/transducer/joiner.onnx
#WAKE_SHERPA_TOKENS=/opt/models/sherpa/jp/transducer/tokens.txt


# ---- Local STT (fallback when server unavailable) ----
# auto | sherpa | vosk
LOCAL_STT_BACKEND=auto

# If using sherpa-ONNX for local STT, you can reuse the same SHERPA_* paths
# (Without WAKE_ prefix; LOCAL_STT uses SHERPA_* variables from stt_backends)
# Common
SHERPA_NUM_THREADS=2
SHERPA_PROVIDER=cpu

# Paraformer example
#SHERPA_MODEL_TYPE=paraformer
#SHERPA_MODEL=/opt/models/sherpa/jp/paraformer/model.onnx
#SHERPA_TOKENS=/opt/models/sherpa/jp/paraformer/tokens.txt

# Whisper example
#SHERPA_MODEL_TYPE=whisper
#SHERPA_ENCODER=/opt/models/sherpa/whisper-tiny/encoder.onnx
#SHERPA_DECODER=/opt/models/sherpa/whisper-tiny/decoder.onnx
#SHERPA_TOKENS=/opt/models/sherpa/whisper-tiny/tokens.txt

# Transducer example
#SHERPA_MODEL_TYPE=transducer
#SHERPA_ENCODER=/opt/models/sherpa/jp/transducer/encoder.onnx
#SHERPA_DECODER=/opt/models/sherpa/jp/transducer/decoder.onnx
#SHERPA_JOINER=/opt/models/sherpa/jp/transducer/joiner.onnx
#SHERPA_TOKENS=/opt/models/sherpa/jp/transducer/tokens.txt


# ---- Audio / sensitivity ----
#AUDIO_INPUT_DEVICE=
#AUDIO_OUTPUT_DEVICE=
WAKE_MIN_DBFS=-75
WAKE_TIMEOUT_S=4.0
# 両語必須（まずはfalseで動作確認、必要に応じてtrueへ）
WAKE_REQUIRE_BOTH=false
END_SILENCE_MS=600
MAX_RECORDING_MS=6000
